<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Statystyka ankiety / Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¾Ğ¿Ñ€Ğ¾ÑĞ° / Survey statistics</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
  <style>
    body { background: #f5f7fa; font-family: sans-serif; margin: 0; padding: 0;}
    .container { max-width: 900px; margin: 35px auto; background: #fff; border-radius: 18px; box-shadow: 0 8px 28px rgba(34, 100, 34, 0.11); padding: 24px 18px 14px; }
    h1 { text-align: center; margin-bottom: 8px;}
    .lang-switch { text-align: right; margin-bottom: 18px;}
    .lang-switch button {
      margin-left: 8px;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      padding: 7px 14px;
      font-weight: 600;
      opacity: 0.8;
      transition: opacity 0.3s, box-shadow 0.3s;
      user-select: none;
      color: white;
    }
    .lang-pl { background-color: #388e3c; } /* Ğ·ĞµĞ»ĞµĞ½Ñ‹Ğ¹ */
    .lang-ru { background-color: #1976d2; } /* ÑĞ¸Ğ½Ğ¸Ğ¹ */
    .lang-en { background-color: #d32f2f; } /* ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹ */
    .lang-uk { background-color: #fbc02d; color: #333; } /* Ğ¶ĞµĞ»Ñ‚Ñ‹Ğ¹ */
    .lang-ka { background-color: #5d4037; } /* ĞºĞ¾Ñ€Ğ¸Ñ‡Ğ½ĞµĞ²Ñ‹Ğ¹ */
    .lang-switch button.active {
      opacity: 1;
      box-shadow: 0 0 8px rgba(0,0,0,0.3);
    }
    .qstat { margin: 38px 0 44px;}
    .qtitle { font-weight: bold; font-size: 1.08em; margin-bottom: 7px;}
    .answers-list { margin: 8px 0 6px 8px; }
    .answers-list div { margin-bottom: 4px; }
    .answers-list span { display: inline-block; min-width: 130px; }
    .vote-count { font-weight: 600; margin-left: 12px; color: #444; }
    canvas { margin: 10px auto 0; display: block;}
    @media (max-width: 900px) { .container { padding: 8px 2vw;} }
    @media (max-width: 540px) { .answers-list span { min-width: 90px; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="lang-switch">
      <button class="lang-pl" onclick="setLang('pl')">ğŸ‡µğŸ‡± Polski</button>
      <button class="lang-ru" onclick="setLang('ru')">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
      <button class="lang-en" onclick="setLang('en')">ğŸ‡¬ğŸ‡§ English</button>
      <button class="lang-uk" onclick="setLang('uk')">ğŸ‡ºğŸ‡¦ Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°</button>
      <button class="lang-ka" onclick="setLang('ka')">ğŸ‡¬ğŸ‡ª áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜</button>
    </div>
    <h1 id="statTitle">Statystyka ankiety</h1>
    <div id="resultsBlock">
      <div style="text-align:center; color:#888; font-size:1.04em; margin: 55px 0 0;">
        Åadowanie wynikÃ³w... / Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°... / Loading... / Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ... / áƒ¢áƒ•áƒ˜áƒ áƒ—áƒ˜áƒ¡ áƒ©áƒáƒ¢áƒ•áƒ˜áƒ áƒ—áƒ•áƒ...
      </div>
    </div>
    <div style="margin:36px 0 4px; text-align:center; color:#aaa; font-size:0.96em;" id="footerText">
      NSZZ â€SolidarnoÅ›Ä‡â€ w Autodoc
    </div>
  </div>

  <script>
const COLORS = ['#3b73d1', '#dd3d2d', '#f0a226', '#2e7d32']; // Ğ¡Ğ¸Ğ½Ğ¸Ğ¹, ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹, Ğ¾Ñ€Ğ°Ğ½Ğ¶ĞµĞ²Ñ‹Ğ¹, Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹

const QUESTIONS = [
  {
    pl: "1. Jak oceniasz styl zarzÄ…dzania obecnego kierownika magazynu?",
    ru: "1. ĞšĞ°Ğº Ğ²Ñ‹ Ğ¾Ñ†ĞµĞ½Ğ¸Ğ²Ğ°ĞµÑ‚Ğµ ÑÑ‚Ğ¸Ğ»ÑŒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»Ñ ÑĞºĞ»Ğ°Ğ´Ğ°?",
    en: "1. How do you rate the management style of the current warehouse manager?",
    uk: "1. Ğ¯Ğº Ğ²Ğ¸ Ğ¾Ñ†Ñ–Ğ½ÑÑ”Ñ‚Ğµ ÑÑ‚Ğ¸Ğ»ÑŒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ Ğ½Ğ¸Ğ½Ñ–ÑˆĞ½ÑŒĞ¾Ğ³Ğ¾ ĞºĞµÑ€Ñ–Ğ²Ğ½Ğ¸ĞºĞ° ÑĞºĞ»Ğ°Ğ´Ñƒ?",
    ka: "1. áƒ áƒáƒ’áƒáƒ  áƒáƒ¤áƒáƒ¡áƒ”áƒ‘áƒ— áƒáƒ›áƒŸáƒáƒ›áƒ˜áƒœáƒ“áƒ”áƒšáƒ˜ áƒ¡áƒáƒ¬áƒ§áƒáƒ‘áƒ˜áƒ¡ áƒ›áƒ›áƒáƒ áƒ—áƒ•áƒ”áƒšáƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ˜áƒ¡ áƒ¡áƒ¢áƒ˜áƒšáƒ¡?",
    options: [
      {pl: "SzanujÄ…cy i profesjonalny", ru: "Ğ£Ğ²Ğ°Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹", en: "Respectful and professional", uk: "ĞŸĞ¾Ğ²Ğ°Ğ³Ğ° Ñ‚Ğ° Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑ–Ğ¾Ğ½Ğ°Ğ»Ñ–Ğ·Ğ¼", ka: "áƒ›áƒªáƒ”áƒ›áƒšáƒáƒ‘áƒ áƒ“áƒ áƒáƒ áƒáƒ¤áƒ”áƒ¡áƒ˜áƒáƒœáƒáƒšáƒ˜áƒ–áƒ›áƒ˜"},
      {pl: "ChÅ‚odny i formalny", ru: "Ğ¥Ğ¾Ğ»Ğ¾Ğ´Ğ½Ñ‹Ğ¹ Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹", en: "Cold and formal", uk: "Ğ¥Ğ¾Ğ»Ğ¾Ğ´Ğ½Ğ¸Ğ¹ Ñ– Ñ„Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹", ka: "áƒªáƒ˜áƒ•áƒ˜ áƒ“áƒ áƒ¤áƒáƒ áƒ›áƒáƒšáƒ£áƒ áƒ˜"},
      {pl: "Autorytarny, powodujÄ…cy napiÄ™cie", ru: "ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğ°Ñ€Ğ½Ñ‹Ğ¹, Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ÑÑ‰Ğ¸Ğ¹ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ", en: "Authoritarian causing tension", uk: "ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğ°Ñ€Ğ½Ğ¸Ğ¹, Ñ‰Ğ¾ Ğ²Ğ¸ĞºĞ»Ğ¸ĞºĞ°Ñ” Ğ½Ğ°Ğ¿Ñ€ÑƒĞ¶ĞµĞ½Ğ½Ñ", ka: "áƒáƒ•áƒ¢áƒáƒ áƒ˜áƒ¢áƒáƒ áƒ£áƒšáƒ˜ áƒ“áƒ áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ›áƒ¬áƒ•áƒ”áƒ•áƒ˜"},
      {pl: "PoniÅ¼ajÄ…cy i wzbudzajÄ…cy strach", ru: "Ğ£Ğ½Ğ¸Ğ¶Ğ°ÑÑ‰Ğ¸Ğ¹ Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‰Ğ¸Ğ¹ ÑÑ‚Ñ€Ğ°Ñ…", en: "Humiliating and fear-inducing", uk: "ĞŸÑ€Ğ¸Ğ½Ğ¸Ğ¶ÑƒÑÑ‡Ğ¸Ğ¹ Ñ– Ğ²Ğ¸ĞºĞ»Ğ¸ĞºĞ°Ñ” ÑÑ‚Ñ€Ğ°Ñ…", ka: "áƒ›áƒáƒ®áƒ˜áƒœáƒ¯áƒ˜ áƒ“áƒ áƒ¨áƒ˜áƒ¨áƒ˜áƒ¡ áƒ›áƒáƒ›áƒ’áƒ•áƒ áƒ”áƒšáƒ˜"}
    ]
  },
  {
    pl: "2. Jak siÄ™ czujesz w kontakcie z kierownikiem magazynu?",
    ru: "2. ĞšĞ°Ğº Ğ²Ñ‹ ÑĞµĞ±Ñ Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒĞµÑ‚Ğµ Ğ¿Ñ€Ğ¸ Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¸ Ñ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ĞµĞ¼ ÑĞºĞ»Ğ°Ğ´Ğ°?",
    en: "2. How do you feel communicating with the warehouse manager?",
    uk: "2. Ğ¯Ğº Ğ²Ğ¸ Ğ¿Ğ¾Ñ‡ÑƒĞ²Ğ°Ñ”Ñ‚ĞµÑÑŒ Ğ¿Ñ–Ğ´ Ñ‡Ğ°Ñ ÑĞ¿Ñ–Ğ»ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ· ĞºĞµÑ€Ñ–Ğ²Ğ½Ğ¸ĞºĞ¾Ğ¼ ÑĞºĞ»Ğ°Ğ´Ñƒ?",
    ka: "2. áƒ áƒáƒ’áƒáƒ  áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ— áƒ—áƒáƒ•áƒ¡ áƒ¡áƒáƒ¬áƒ§áƒáƒ‘áƒ˜áƒ¡ áƒ›áƒ›áƒáƒ áƒ—áƒ•áƒ”áƒšáƒ—áƒáƒœ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ˜áƒ¡áƒáƒ¡?",
    options: [
      {pl: "Pewnie", ru: "Ğ£Ğ²ĞµÑ€ĞµĞ½Ğ½Ğ¾", en: "Confident", uk: "Ğ’Ğ¿ĞµĞ²Ğ½ĞµĞ½Ğ¾", ka: "áƒ“áƒáƒ¯áƒ”áƒ áƒ”áƒ‘áƒ˜áƒ—"},
      {pl: "Z napiÄ™ciem", ru: "ĞĞ°Ğ¿Ñ€ÑĞ¶Ñ‘Ğ½Ğ½Ğ¾", en: "Tense", uk: "ĞĞ°Ğ¿Ñ€ÑƒĞ¶ĞµĞ½Ğ¾", ka: "áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ£áƒšáƒ˜"},
      {pl: "Unikam kontaktu", ru: "Ğ˜Ğ·Ğ±ĞµĞ³Ğ°Ñ Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ", en: "Avoid contact", uk: "Ğ£Ğ½Ğ¸ĞºĞ°Ñ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñƒ", ka: "áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜áƒ¡ áƒáƒªáƒ˜áƒšáƒ”áƒ‘áƒ"},
      {pl: "Odczuwam strach i bezsilnoÅ›Ä‡", ru: "Ğ§ÑƒĞ²ÑÑ‚Ğ²ÑƒÑ ÑÑ‚Ñ€Ğ°Ñ… Ğ¸ Ğ½ĞµĞ·Ğ°Ñ‰Ğ¸Ñ‰Ñ‘Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ", en: "Feel fear and helplessness", uk: "Ğ’Ñ–Ğ´Ñ‡ÑƒĞ²Ğ°Ñ ÑÑ‚Ñ€Ğ°Ñ… Ñ‚Ğ° Ğ±ĞµĞ·Ğ¿Ğ¾Ñ€Ğ°Ğ´Ğ½Ñ–ÑÑ‚ÑŒ", ka: "áƒ¨áƒ˜áƒ¨áƒ˜ áƒ“áƒ áƒ£áƒ¡áƒ£áƒ¡áƒ£áƒ áƒáƒ‘áƒ"}
    ]
  },
  {
    pl: "3. Jak czÄ™sto masz realny dostÄ™p do rozmowy z kierownikiem magazynu w sprawach sÅ‚uÅ¼bowych?",
    ru: "3. ĞĞ°ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ‡Ğ°ÑÑ‚Ğ¾ Ğ²Ñ‹ Ğ¸Ğ¼ĞµĞµÑ‚Ğµ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ñ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ĞµĞ¼ ÑĞºĞ»Ğ°Ğ´Ğ° Ğ¿Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ğ¼ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼?",
    en: "3. How often do you have real access to discuss work matters with the warehouse manager?",
    uk: "3. Ğ¯Ğº Ñ‡Ğ°ÑÑ‚Ğ¾ Ğ²Ğ¸ Ğ¼Ğ°Ñ”Ñ‚Ğµ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğ´Ğ¾ ÑĞ¿Ñ–Ğ»ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ· ĞºĞµÑ€Ñ–Ğ²Ğ½Ğ¸ĞºĞ¾Ğ¼ ÑĞºĞ»Ğ°Ğ´Ñƒ Ğ· Ñ€Ğ¾Ğ±Ğ¾Ñ‡Ğ¸Ñ… Ğ¿Ğ¸Ñ‚Ğ°Ğ½ÑŒ?",
    ka: "3. áƒ áƒáƒ›áƒ“áƒ”áƒœáƒáƒ“ áƒ®áƒ¨áƒ˜áƒ áƒáƒ“ áƒ’áƒáƒ¥áƒ•áƒ— áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒ¬áƒ•áƒ“áƒáƒ›áƒ áƒ¡áƒáƒ¬áƒ§áƒáƒ‘áƒ˜áƒ¡ áƒ›áƒ”áƒœáƒ”áƒ¯áƒ”áƒ áƒ—áƒáƒœ áƒ¡áƒáƒ›áƒ£áƒ¨áƒáƒ áƒ¡áƒáƒ™áƒ˜áƒ—áƒ®áƒ”áƒ‘áƒ–áƒ” áƒ¡áƒáƒ£áƒ‘áƒáƒ áƒ–áƒ”?",
    options: [
      {pl: "Kierownik zawsze jest dostÄ™pny", ru: "Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒ Ğ²ÑĞµĞ³Ğ´Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½", en: "Manager is always available", uk: "ĞšĞµÑ€Ñ–Ğ²Ğ½Ğ¸Ğº Ğ·Ğ°Ğ²Ğ¶Ğ´Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹", ka: "áƒ›áƒ”áƒœáƒ”áƒ¯áƒ”áƒ áƒ˜ áƒ§áƒáƒ•áƒ”áƒšáƒ—áƒ•áƒ˜áƒ¡ áƒ®áƒ”áƒšáƒ›áƒ˜áƒ¡áƒáƒ¬áƒ•áƒ“áƒáƒ›áƒ˜áƒ"},
      {pl: "Czasami udaje siÄ™ porozmawiaÄ‡", ru: "Ğ˜Ğ½Ğ¾Ğ³Ğ´Ğ° ÑƒĞ´Ğ°Ñ‘Ñ‚ÑÑ Ğ¿Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚ÑŒ", en: "Sometimes able to talk", uk: "Ğ†Ğ½Ğ¾Ğ´Ñ– Ğ²Ğ´Ğ°Ñ”Ñ‚ÑŒÑÑ Ğ¿Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸", ka: "áƒ¡áƒ®áƒ•áƒáƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒáƒ“ áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒ¡áƒáƒ£áƒ‘áƒáƒ áƒ˜"},
      {pl: "Prawie zawsze odmawia kontaktu", ru: "ĞŸĞ¾Ñ‡Ñ‚Ğ¸ Ğ²ÑĞµĞ³Ğ´Ğ° Ğ¾Ñ‚ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¾Ñ‚ Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ", en: "Almost always refuses contact", uk: "ĞœĞ°Ğ¹Ğ¶Ğµ Ğ·Ğ°Ğ²Ğ¶Ğ´Ğ¸ Ğ²Ñ–Ğ´Ğ¼Ğ¾Ğ²Ğ»ÑÑ”Ñ‚ÑŒÑÑ Ğ²Ñ–Ğ´ ÑĞ¿Ñ–Ğ»ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ", ka: "áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜áƒ áƒ—áƒ˜áƒ—áƒ¥áƒ›áƒ˜áƒ¡ áƒ§áƒáƒ•áƒ”áƒšáƒ—áƒ•áƒ˜áƒ¡ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¬áƒ§áƒ•áƒ”áƒ¢áƒ"},
      {pl: "CaÅ‚kowicie unika kontaktu z pracownikami", ru: "Ğ¡Ğ¾Ğ²ÑĞµĞ¼ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½, Ğ¸Ğ·Ğ±ĞµĞ³Ğ°ĞµÑ‚ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¾Ğ²", en: "Completely avoids contact with employees", uk: "ĞŸĞ¾Ğ²Ğ½Ñ–ÑÑ‚Ñ ÑƒĞ½Ğ¸ĞºĞ°Ñ” ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñƒ Ğ· Ğ¿Ñ€Ğ°Ñ†Ñ–Ğ²Ğ½Ğ¸ĞºĞ°Ğ¼Ğ¸", ka: "áƒ¡áƒ áƒ£áƒšáƒ˜áƒáƒ“ áƒ”áƒ áƒ˜áƒ“áƒ”áƒ‘áƒ áƒ—áƒáƒœáƒáƒ›áƒ¨áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ—áƒáƒœ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒáƒ¡"}
    ]
  },
  {
    pl: "4. Jak zmieniÅ‚y siÄ™ Twoje warunki pracy i samopoczucie po objÄ™ciu funkcji przez obecnego kierownika?",
    ru: "4. ĞšĞ°Ğº Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»Ğ¸ÑÑŒ Ğ¼Ğ¾Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ¸ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ñ Ñ‚Ñ€ÑƒĞ´Ğ° Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ° Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»Ñ?",
    en: "4. How have your working conditions and well-being changed since the current manager took over?",
    uk: "4. Ğ¯Ğº Ğ·Ğ¼Ñ–Ğ½Ğ¸Ğ»Ğ¸ÑÑ ÑƒĞ¼Ğ¾Ğ²Ğ¸ Ğ¿Ñ€Ğ°Ñ†Ñ– Ñ‚Ğ° ÑĞ°Ğ¼Ğ¾Ğ¿Ğ¾Ñ‡ÑƒÑ‚Ñ‚Ñ Ğ¿Ñ–ÑĞ»Ñ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ñƒ Ğ½Ğ¸Ğ½Ñ–ÑˆĞ½ÑŒĞ¾Ğ³Ğ¾ ĞºĞµÑ€Ñ–Ğ²Ğ½Ğ¸ĞºĞ°?",
    ka: "4. áƒ áƒáƒ’áƒáƒ  áƒ¨áƒ”áƒ˜áƒªáƒ•áƒáƒšáƒ áƒ¡áƒáƒ›áƒ£áƒ¨áƒáƒ áƒáƒ˜áƒ áƒáƒ‘áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ™áƒ”áƒ—áƒ˜áƒšáƒ“áƒ¦áƒ”áƒáƒ‘áƒ áƒáƒ®áƒáƒšáƒ˜ áƒ›áƒ”áƒœáƒ”áƒ¯áƒ”áƒ áƒ˜áƒ¡ áƒ›áƒáƒ¡áƒ•áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’?",
    options: [
      {pl: "PoprawiÅ‚y siÄ™", ru: "Ğ£Ğ»ÑƒÑ‡ÑˆĞ¸Ğ»Ğ¸ÑÑŒ", en: "Improved", uk: "ĞŸĞ¾ĞºÑ€Ğ°Ñ‰Ğ¸Ğ»Ğ¸ÑÑŒ", ka: "áƒáƒ£áƒ›áƒ¯áƒáƒ‘áƒ”áƒ¡áƒ“áƒ"},
      {pl: "Bez zmian", ru: "ĞĞµ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»Ğ¸ÑÑŒ", en: "No change", uk: "Ğ‘ĞµĞ· Ğ·Ğ¼Ñ–Ğ½", ka: "áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ áƒáƒ  áƒáƒ áƒ˜áƒ¡"},
      {pl: "PogorszyÅ‚y siÄ™", ru: "Ğ£Ñ…ÑƒĞ´ÑˆĞ¸Ğ»Ğ¸ÑÑŒ", en: "Worsened", uk: "ĞŸĞ¾Ğ³Ñ–Ñ€ÑˆĞ¸Ğ»Ğ¸ÑÑ", ka: "áƒ’áƒáƒ£áƒáƒ áƒ”áƒ¡áƒ“áƒ"},
      {pl: "StaÅ‚y siÄ™ nie do zniesienia", ru: "Ğ¡Ñ‚Ğ°Ğ»Ğ¸ Ğ½ĞµĞ²Ñ‹Ğ½Ğ¾ÑĞ¸Ğ¼Ñ‹Ğ¼Ğ¸", en: "Became unbearable", uk: "Ğ¡Ñ‚Ğ°Ğ»Ğ¸ Ğ½ĞµĞ²Ñ‹Ğ½Ğ¾ÑĞ¸Ğ¼Ğ¸Ğ¼Ğ¸", ka: "áƒáƒ áƒáƒ¡áƒáƒœáƒ¥áƒªáƒ˜áƒ áƒ”áƒ‘áƒ”áƒšáƒ˜áƒ"}
    ]
  },
  {
    pl: "5. Jak zachowanie kierownictwa wpÅ‚ynÄ™Å‚o na produktywnoÅ›Ä‡ pracy w zespole?",
    ru: "5. ĞšĞ°Ğº, Ğ¿Ğ¾ Ğ²Ğ°ÑˆĞµĞ¼Ñƒ Ğ¼Ğ½ĞµĞ½Ğ¸Ñ, Ğ¿Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ° Ğ¿Ğ¾Ğ²Ğ»Ğ¸ÑĞ»Ğ¾ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ñ‚Ñ€ÑƒĞ´Ğ° Ğ² ĞºĞ¾Ğ»Ğ»ĞµĞºÑ‚Ğ¸Ğ²Ğµ?",
    en: "5. How do you think management's behavior affected team productivity?",
    uk: "5. Ğ¯Ğº Ğ²Ğ¸ Ğ²Ğ²Ğ°Ğ¶Ğ°Ñ”Ñ‚Ğµ, Ğ¿Ğ¾Ğ²ĞµĞ´Ñ–Ğ½ĞºĞ° ĞºĞµÑ€Ñ–Ğ²Ğ½Ğ¸Ñ†Ñ‚Ğ²Ğ° Ğ²Ğ¿Ğ»Ğ¸Ğ½ÑƒĞ»Ğ° Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¸Ğ²Ğ½Ñ–ÑÑ‚ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸?",
    ka: "5. áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ˜áƒ—, áƒ áƒáƒ’áƒáƒ  áƒ˜áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ áƒ›áƒ”áƒœáƒ”áƒ¯áƒ›áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ¥áƒªáƒ”áƒ•áƒáƒ› áƒ’áƒ£áƒœáƒ“áƒ˜áƒ¡ áƒáƒ áƒáƒ“áƒ£áƒ¥áƒ¢áƒ˜áƒ£áƒšáƒáƒ‘áƒáƒ–áƒ”?",
    options: [
      {pl: "WydajnoÅ›Ä‡ wzrosÅ‚a", ru: "ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ²Ñ‹Ñ€Ğ¾ÑĞ»Ğ°", en: "Productivity increased", uk: "ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¸Ğ²Ğ½Ñ–ÑÑ‚ÑŒ Ğ·Ñ€Ğ¾ÑĞ»Ğ°", ka: "áƒáƒ áƒáƒ“áƒ£áƒ¥áƒ¢áƒ˜áƒ£áƒšáƒáƒ‘áƒ áƒ’áƒáƒ˜áƒ–áƒáƒ áƒ“áƒ"},
      {pl: "Bez zmian", ru: "ĞĞµ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»Ğ°ÑÑŒ", en: "No change", uk: "Ğ‘ĞµĞ· Ğ·Ğ¼Ñ–Ğ½", ka: "áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ áƒáƒ  áƒáƒ áƒ˜áƒ¡"},
      {pl: "Nieco spadÅ‚a", ru: "Ğ¡Ğ½Ğ¸Ğ·Ğ¸Ğ»Ğ°ÑÑŒ Ğ½ĞµĞ¼Ğ½Ğ¾Ğ³Ğ¾", en: "Slightly decreased", uk: "Ğ¢Ñ€Ğ¾Ñ…Ğ¸ Ğ·Ğ½Ğ¸Ğ·Ğ¸Ğ»Ğ°ÑÑŒ", ka: "áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒœáƒáƒ“ áƒ¨áƒ”áƒ›áƒªáƒ˜áƒ áƒ“áƒ"},
      {pl: "Znacznie siÄ™ pogorszyÅ‚a", ru: "Ğ¡Ğ¸Ğ»ÑŒĞ½Ğ¾ ÑƒĞ¿Ğ°Ğ»Ğ° Ğ¸Ğ·-Ğ·Ğ° Ğ°Ñ‚Ğ¼Ğ¾ÑÑ„ĞµÑ€Ñ‹", en: "Significantly worsened", uk: "Ğ—Ğ½Ğ°Ñ‡Ğ½Ğ¾ Ğ¿Ğ¾Ğ³Ñ–Ñ€ÑˆĞ¸Ğ»Ğ°ÑÑŒ", ka: "áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ’áƒáƒ£áƒáƒ áƒ”áƒ¡áƒ“áƒ"}
    ]
  },
  {
    pl: "6. Jak oceniasz zmiany w podejÅ›ciu do kar dyscyplinarnych po objÄ™ciu funkcji przez obecnego kierownika?",
    ru: "6. ĞšĞ°Ğº Ğ²Ñ‹ Ğ¾Ñ†ĞµĞ½Ğ¸Ğ²Ğ°ĞµÑ‚Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ² Ğ¾Ñ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ğ¸ Ğº Ğ´Ğ¸ÑÑ†Ğ¸Ğ¿Ğ»Ğ¸Ğ½Ğ°Ñ€Ğ½Ñ‹Ğ¼ Ğ²Ğ·Ñ‹ÑĞºĞ°Ğ½Ğ¸ÑĞ¼ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ° Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»Ñ ÑĞºĞ»Ğ°Ğ´Ğ°?",
    en: "6. How do you rate changes in disciplinary measures since the new manager arrived?",
    uk: "6. Ğ¯Ğº Ğ²Ğ¸ Ğ¾Ñ†Ñ–Ğ½ÑÑ”Ñ‚Ğµ Ğ·Ğ¼Ñ–Ğ½Ğ¸ Ñƒ Ğ´Ğ¸ÑÑ†Ğ¸Ğ¿Ğ»Ñ–Ğ½Ğ°Ñ€Ğ½Ğ¸Ñ… ÑÑ‚ÑĞ³Ğ½ĞµĞ½Ğ½ÑÑ… Ğ¿Ñ–ÑĞ»Ñ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ ĞºĞµÑ€Ñ–Ğ²Ğ½Ğ¸ĞºĞ°?",
    ka: "6. áƒ áƒáƒ’áƒáƒ  áƒáƒ¤áƒáƒ¡áƒ”áƒ‘áƒ— áƒ“áƒ˜áƒ¡áƒªáƒ˜áƒáƒšáƒ˜áƒœáƒáƒ áƒ£áƒšáƒ˜ áƒ–áƒáƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ¡ áƒáƒ®áƒáƒšáƒ˜ áƒ›áƒ”áƒœáƒ”áƒ¯áƒ”áƒ áƒ˜áƒ¡ áƒ›áƒáƒ¡áƒ•áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’?",
    options: [
      {pl: "Nie zauwaÅ¼yÅ‚em/am rÃ³Å¼nicy", ru: "ĞĞµ Ğ·Ğ°Ğ¼ĞµÑ‚Ğ¸Ğ»(Ğ°) Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ñ‹", en: "No difference noticed", uk: "ĞĞµ Ğ¿Ğ¾Ğ¼Ñ–Ñ‚Ğ¸Ğ²(Ğ»Ğ°) Ñ€Ñ–Ğ·Ğ½Ğ¸Ñ†Ñ–", ka: "áƒáƒ áƒáƒ¤áƒ”áƒ áƒ˜ áƒ¨áƒ”áƒ˜áƒªáƒ•áƒáƒšáƒ"},
      {pl: "SÄ… one nakÅ‚adane czÄ™Å›ciej niÅ¼ wczeÅ›niej", ru: "Ğ˜Ñ… ÑÑ‚Ğ°Ğ»Ğ¾ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑÑ‚ÑŒ Ñ‡Ğ°Ñ‰Ğµ", en: "Applied more often", uk: "Ğ—Ğ°ÑÑ‚Ğ¾ÑĞ¾Ğ²ÑƒÑÑ‚ÑŒÑÑ Ñ‡Ğ°ÑÑ‚Ñ–ÑˆĞµ", ka: "áƒ£áƒ¤áƒ áƒ áƒ®áƒ¨áƒ˜áƒ áƒáƒ“ áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ"},
      {pl: "WzrosÅ‚a surowoÅ›Ä‡ i liczba kar", ru: "Ğ£Ğ¶ĞµÑÑ‚Ğ¾Ñ‡Ğ¸Ğ»Ğ¸ÑÑŒ Ğ¸ ÑƒÑ‡Ğ°ÑÑ‚Ğ¸Ğ»Ğ¸ÑÑŒ Ğ²Ğ·Ñ‹ÑĞºĞ°Ğ½Ğ¸Ñ", en: "Severity and number increased", uk: "ĞŸÑ–Ğ´Ğ²Ğ¸Ñ‰Ğ¸Ğ»Ğ°ÑÑŒ ÑÑƒĞ²Ğ¾Ñ€Ñ–ÑÑ‚ÑŒ Ñ– ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ", ka: "áƒ’áƒáƒ£áƒ›áƒ™áƒáƒªáƒ áƒ“áƒ áƒ“áƒ áƒ’áƒáƒ˜áƒ–áƒáƒ áƒ“áƒ áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ"},
      {pl: "Kary staÅ‚y siÄ™ narzÄ™dziem nacisku", ru: "Ğ’Ğ·Ñ‹ÑĞºĞ°Ğ½Ğ¸Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚ÑÑ ĞºĞ°Ğº Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ", en: "Penalties used as pressure tool", uk: "Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑÑ‚ÑŒÑÑ ÑĞº Ğ·Ğ°ÑÑ–Ğ± Ñ‚Ğ¸ÑĞºÑƒ", ka: "áƒ“áƒ˜áƒ¡áƒªáƒ˜áƒáƒšáƒ˜áƒœáƒ£áƒ áƒ˜ áƒ–áƒáƒ›áƒ”áƒ‘áƒ˜ áƒ©áƒáƒ áƒ—áƒ£áƒšáƒ áƒ áƒáƒ’áƒáƒ áƒª áƒ–áƒ”áƒ¬áƒáƒšáƒ˜áƒ¡ áƒ˜áƒœáƒ¡áƒ¢áƒ áƒ£áƒ›áƒ”áƒœáƒ¢áƒ˜"}
    ]
  },
  {
    pl: "7. Czy Twoim zdaniem zdarzaÅ‚y siÄ™ niesprawiedliwe lub bezpodstawne kary wobec pracownikÃ³w?",
    ru: "7. ĞŸĞ¾ Ğ²Ğ°ÑˆĞµĞ¼Ñƒ Ğ¼Ğ½ĞµĞ½Ğ¸Ñ, ÑĞ»ÑƒÑ‡Ğ°Ğ»Ğ¸ÑÑŒ Ğ»Ğ¸ ÑĞ»ÑƒÑ‡Ğ°Ğ¸ Ğ½ĞµÑĞ¿Ñ€Ğ°Ğ²ĞµĞ´Ğ»Ğ¸Ğ²Ñ‹Ñ… Ğ¸Ğ»Ğ¸ Ğ±ĞµĞ·Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ²Ğ·Ñ‹ÑĞºĞ°Ğ½Ğ¸Ğ¹ Ğ² Ğ¾Ñ‚Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ½Ğ¸ĞºĞ¾Ğ²?",
    en: "7. In your opinion, have there been unfair or baseless penalties against employees?",
    uk: "7. ĞĞ° Ğ²Ğ°ÑˆÑƒ Ğ´ÑƒĞ¼ĞºÑƒ, Ñ‡Ğ¸ Ğ±ÑƒĞ»Ğ¸ Ğ²Ğ¸Ğ¿Ğ°Ğ´ĞºĞ¸ Ğ½ĞµÑĞ¿Ñ€Ğ°Ğ²ĞµĞ´Ğ»Ğ¸Ğ²Ğ¸Ñ… Ğ°Ğ±Ğ¾ Ğ±ĞµĞ·Ğ¿Ñ–Ğ´ÑÑ‚Ğ°Ğ²Ğ½Ğ¸Ñ… ÑÑ‚ÑĞ³Ğ½ĞµĞ½ÑŒ Ñ‰Ğ¾Ğ´Ğ¾ Ğ¿Ñ€Ğ°Ñ†Ñ–Ğ²Ğ½Ğ¸ĞºÑ–Ğ²?",
    ka: "7. áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ˜áƒ—, áƒ˜áƒ§áƒ áƒ£áƒ¡áƒáƒ›áƒáƒ áƒ—áƒšáƒ áƒáƒœ áƒ£áƒ¡áƒáƒ¤áƒ£áƒ«áƒ•áƒšáƒ áƒ“áƒáƒ¡áƒ¯áƒ”áƒ‘áƒ˜ áƒ—áƒáƒœáƒáƒ›áƒ¨áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ–áƒ”?",
    options: [
      {pl: "Tak, wielokrotnie", ru: "Ğ”Ğ°, Ğ½ĞµĞ¾Ğ´Ğ½Ğ¾ĞºÑ€Ğ°Ñ‚Ğ½Ğ¾", en: "Yes, repeatedly", uk: "Ğ¢Ğ°Ğº, Ğ½ĞµĞ¾Ğ´Ğ½Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ¾", ka: "áƒ“áƒ˜áƒáƒ®, áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ¯áƒ”áƒ áƒ›áƒ”"},
      {pl: "Tak, sporadycznie", ru: "Ğ”Ğ°, ÑĞ¿Ğ¸Ğ·Ğ¾Ğ´Ğ¸Ñ‡ĞµÑĞºĞ¸", en: "Yes, occasionally", uk: "Ğ¢Ğ°Ğº, Ñ‡Ğ°Ñ Ğ²Ñ–Ğ´ Ñ‡Ğ°ÑÑƒ", ka: "áƒ“áƒ˜áƒáƒ®, áƒ®áƒáƒœáƒ“áƒáƒ®áƒáƒœ"},
      {pl: "Nie, nie zauwaÅ¼yÅ‚em/am takich przypadkÃ³w", ru: "ĞĞµÑ‚, Ğ½Ğµ Ğ·Ğ°Ğ¼ĞµÑ‡Ğ°Ğ»(Ğ°)", en: "No, haven't noticed", uk: "ĞÑ–, Ğ½Ğµ Ğ¿Ğ¾Ğ¼Ñ–Ñ‡Ğ°Ğ²(Ğ»Ğ°)", ka: "áƒáƒ áƒ, áƒáƒ  áƒ›áƒ˜áƒ›áƒ©áƒœáƒ”áƒ•áƒ˜áƒ"},
      {pl: "Trudno powiedzieÄ‡", ru: "Ğ¢Ñ€ÑƒĞ´Ğ½Ğ¾ ÑĞºĞ°Ğ·Ğ°Ñ‚ÑŒ", en: "Hard to say", uk: "Ğ’Ğ°Ğ¶ĞºĞ¾ ÑĞºĞ°Ğ·Ğ°Ñ‚Ğ¸", ka: "áƒ›áƒ˜áƒ­áƒ˜áƒ áƒ¡ áƒ—áƒ¥áƒ›áƒ"}
    ]
  }
];

const LANG_NAMES = {
  pl: "Statystyka ankiety",
  ru: "Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°",
  en: "Survey statistics",
  uk: "Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¾Ğ¿Ğ¸Ñ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ",
  ka: "áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ¡áƒ¢áƒ˜áƒ™áƒ"
};

let curLang = localStorage.getItem("ankieta_lang") || "pl";
let results = [];

function setLang(lang) {
  curLang = lang;
  localStorage.setItem("ankieta_lang", lang);

  document.getElementById("statTitle").textContent = LANG_NAMES[lang] || LANG_NAMES.pl;

  document.querySelectorAll(".lang-switch button").forEach(b => {
    b.classList.toggle("active", b.classList.contains("lang-" + lang));
  });

  renderAll();
}

async function loadResults() {
  try {
    const resp = await fetch("/results");
    if (resp.ok) {
      results = await resp.json();
      renderAll();
    } else {
      showErr({pl: "BÅ‚Ä…d pobierania danych", ru: "ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…", en: "Data loading error", uk:"ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ´Ğ°Ğ½Ğ¸Ñ…", ka:"áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒ©áƒáƒ›áƒáƒ¢áƒ•áƒ˜áƒ áƒ—áƒ•áƒ˜áƒ¡ áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ"}[curLang] || "Data loading error");
    }
  } catch {
    showErr({pl: "Brak poÅ‚Ä…czenia z serwerem", ru: "ĞĞµÑ‚ ÑĞ²ÑĞ·Ğ¸ Ñ ÑĞµÑ€Ğ²ĞµÑ€Ğ¾Ğ¼", en:"No connection to server", uk:"ĞĞµĞ¼Ğ°Ñ” Ğ·Ğ²'ÑĞ·ĞºÑƒ Ğ· ÑĞµÑ€Ğ²ĞµÑ€Ğ¾Ğ¼", ka:"áƒ¡áƒ”áƒ áƒ•áƒ”áƒ áƒ—áƒáƒœ áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ˜áƒ¡ áƒáƒ áƒ¥áƒáƒœáƒ"}[curLang] || "No connection to server");
  }
}

function showErr(msg) {
  document.getElementById("resultsBlock").innerHTML = `<div style="color:#d00; text-align:center; margin:60px 0 20px;">${msg}</div>`;
}

function renderAll() {
  if (!results.length) {
    document.getElementById("resultsBlock").innerHTML = `<div style="text-align:center; color:#888; font-size:1.04em; margin: 55px 0 0;">
      ${
        {
          pl: "Brak odpowiedzi",
          ru: "ĞĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²",
          en: "No responses",
          uk: "Ğ’Ñ–Ğ´ÑÑƒÑ‚Ğ½Ñ– Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ–",
          ka: "áƒáƒáƒ¡áƒ£áƒ®áƒ”áƒ‘áƒ˜ áƒáƒ  áƒáƒ áƒ˜áƒ¡"
        }[curLang] || "No responses"
      }
    </div>`;
    return;
  }
  let html = '';
  QUESTIONS.forEach((q, qi) => {
    let counts = [0, 0, 0, 0],
      total = 0;
    results.forEach(ans => {
      let idx = Number(ans['q' + (qi + 1)]) - 1;
      if (idx >= 0 && idx < 4) {
        counts[idx]++;
        total++;
      }
    });
    html += `<div class="qstat"><div class="qtitle">${q[curLang]} <span class="vote-count">(${total} ${
      {pl:"odpowiedzi", ru:"Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²", en:"responses", uk:"Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ĞµĞ¹", ka:"áƒáƒáƒ¡áƒ£áƒ®áƒ˜"}[curLang] || "responses"
    })</span></div><div class="answers-list">`;
    q.options.forEach((op, i) => {
      let c = counts[i],
        p = total ? Math.round(1000 * c / total) / 10 : 0;
      html += `<div>
        <span>${op[curLang]}</span>
        <span style="font-weight:600; margin-left:8px;">${c}</span>
        <span style="color:#888; margin-left:5px;">(${p}%)</span>
      </div>`;
    });
    html += `</div><canvas id="chart_q${qi + 1}" width="390" height="170"></canvas></div>`;
  });
  document.getElementById("resultsBlock").innerHTML = html;
  setTimeout(drawCharts, 50);
}

function drawCharts() {
  QUESTIONS.forEach((q, qi) => {
    let counts = [0, 0, 0, 0], total = 0;
    results.forEach(ans => {
      let idx = Number(ans['q' + (qi + 1)]) - 1;
      if (idx >= 0 && idx < 4) {
        counts[idx]++;
        total++;
      }
    });
    const ctx = document.getElementById(`chart_q${qi + 1}`).getContext('2d');
    if (window['chart_' + qi]) {
      window['chart_' + qi].destroy();
    }
    window['chart_' + qi] = new Chart(ctx, {
      type: 'pie',
      data: {
        labels: q.options.map(o => o[curLang]),
        datasets: [{
          data: counts,
          backgroundColor: COLORS,
          borderColor: '#fff',
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          datalabels: {
            color: '#fff',
            formatter: function(value, context) {
              const total = context.chart.data.datasets[0].data.reduce((a,b)=>a+b,0);
              if (total === 0) return '';
              return (value / total * 100).toFixed(1) + '%';
            },
            font: { weight: 'bold', size: 14 }
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                return context.label + ': ' + context.parsed + ' (' + (context.parsed / total * 100).toFixed(1) + '%)';
              }
            }
          }
        }
      },
      plugins: [ChartDataLabels]
    });
  });
}

// ĞĞ°Ñ‡Ğ¸Ğ½Ğ°ĞµĞ¼ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºÑƒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ°Ñ€Ñ‚Ğµ
loadResults();
setLang(curLang);
  </script>
</body>
</html>
